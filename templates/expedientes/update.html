{% extends "base.html" %} {% load static %} {% block content %}
<section class="lg:px-0">
  <!-- ========================================
    AQUI VA EL NAVBAR
 ======================================== -->
  {% include "plantillas/navbar.html" %}

  <!-- Header -->
  <div class="py-10 border-b-2 border-gray-200 bg-white md:px-6">
    <div class="lg:container lg:mx-auto">
      <h1 class="uppercase font-semibold text-main text-xl">
        Actualizar Expediente
      </h1>
      <p>Actualiza el expediente aquí.</p>
    </div>
  </div>

  <div class="py-10 border-b-2 border-gray-200 bg-white md:px-6">
    <div id="botonera" class="flex lg:container lg:mx-auto border-b-2 border-main shadow-sm">
      <button id="btn_ficha_identificacion" class="py-2 px-4 rounded-t-lg border-gray-200 bg-background font-bold"
        type="button">Ficha de Identificación</button>
      <button id="btn_historia_clinica" class="py-2 px-4 rounded-t-lg border-gray-200 bg-white" type="button">Antecedentes</button>
      <button id="btn_padecimiento_actual" class="py-2 px-4 rounded-t-lg border-gray-200 bg-white"
        type="button">Padecimientos Actuales</button>
      <button id="btn_exploracion_fisica" class="py-2 px-4 rounded-t-lg border-gray-200 bg-white"
        type="button">Exploración Física</button>
      <button id="btn_examenes_complementarios" class="py-2 px-4 rounded-t-lg border-gray-200 bg-white"
        type="button">Exámenes complementarios</button>
    </div>
    <!-- ========================================
       Formularios
    ======================================== -->

<<<<<<< HEAD:templates/expedientes/update.html
    <div id="form_ficha_identificacion" class="formulario">
      {% include "expedientes/forms/ficha_identificacion.html" %}
    </div>

    <div id="form_historia_clinica" class="formulario" style="display: none;">
      {% include "expedientes/forms/historia_clinica.html" %}
    </div>

    <div id="form_padecimiento_actual" class="formulario" style="display: none;">
      {% include "expedientes/forms/padecimiento_actual.html" %}
    </div>

    <div id="form_exploracion_fisica" class="formulario" style="display: none;">
      {% include "expedientes/forms/exploracion_fisica.html" %}
    </div>

    <div id="form_examenes_complementarios" class="formulario" style="display: none;">
      {% include "expedientes/forms/examenes_complementarios.html" %}
=======
    <div id="form_ficha_identificacion">
      <form id="form_ficha_identificacion" class="lg:container lg:mx-auto bg-background p-10 space-y-8 rounded-b-lg"
        action="{% url 'medical:guarda_ficha_identificacion'%}" method="post">
        {% include "expedientes/forms/ficha_identificacion.html" %}
      </form>
>>>>>>> new:templates/expedientes/create_ficha.html
    </div>

  </div>

</section>

<script>
  function calcularEdad() {
    let fechaNacimiento = new Date(document.getElementById("fecha_nacimiento").value);
    let ahora = new Date();

    let edad = ahora.getFullYear() - fechaNacimiento.getFullYear();

    // Verificar si aún no ha cumplido años
    if (ahora.getMonth() < fechaNacimiento.getMonth() ||
      (ahora.getMonth() == fechaNacimiento.getMonth() && ahora.getDate() < fechaNacimiento.getDate())) {
      edad--;
    }

    document.getElementById("edad").value = edad;
  }
<<<<<<< HEAD:templates/expedientes/update.html
=======


  function mostrarAlerta() {
    Swal.fire({
      title: 'Guardado',
      text: 'Paciente creado correctamente',
      icon: 'success',
      timer: 1500,
      timerProgressBar: true,
      showConfirmButton: false
    })
  }
>>>>>>> new:templates/expedientes/create_ficha.html
</script>
{% endblock %}