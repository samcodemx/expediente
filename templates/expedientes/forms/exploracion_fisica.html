<!-- ========================================
   Mostrar alerta de Historia Clinica
======================================== -->
{% if paciente %}
<div class="w-full bg-blue-200 border-blue-500 text-blue-500  rounded-lg p-3 text-center">
  Historia clinica del paciente: {{ paciente.nombre }} {{ paciente.apellido_pat }} {{ paciente.apellido_mat }}
</div>
{% endif %}

<!-- ========================================
   Alertas de error/success
======================================== -->
{% if error_msg_exploracion %}
<div class="w-full bg-red-200 border-red-500 text-red-500 rounded-lg p-3 text-center">
  {{ error_msg_exploracion }}
</div>
{% endif %}

<h1 class="text-xl font-bold text-main uppercase">Exploración Física</h1>

<div class="w-full gap-10 grid lg:grid-cols-2 ">
  <!-- ========================================
   Contenedor de Exploracion Fisica
======================================== -->
  <div class="space-y-5">
    {% comment %} Frecuencia cardiaca, frecuencia respiratoria y Oxigeno
    {% endcomment %}
    <div class="grid grid-cols-3 gap-4">
      {% comment %} Frec. Cardiaca {% endcomment %}
      <div>
        <label
          for="frecuencia_cardiaca"
          class="block mb-2 text-sm font-semibold uppercase"
          >Frec. Cardiaca <span class="text-red-500">*</span></label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="frecuencia_cardiaca"
            name="frecuencia_cardiaca"
            class="w-full border-none rounded-md bg-white shadow-sm appearance-none"
            type="number"
            value="{{ exploracion.frecuencia_cardiaca|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">Ipm</p>
        </div>
      </div>

      {% comment %} Frecuencia Respiratoria {% endcomment %}
      <div>
        <label
          for="frecuencia_respiratoria"
          class="block mb-2 text-sm font-semibold uppercase"
          >Frec. Respiratoria <span class="text-red-500">*</span></label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="frecuencia_respiratoria"
            name="frecuencia_respiratoria"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="number"
            value="{{ exploracion.frecuencia_respiratoria|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">Rpm</p>
        </div>
      </div>

      {% comment %} Oxigenacion {% endcomment %}
      <div>
        <label for="saturacion_oxigeno" class="block mb-2 text-sm font-semibold uppercase"
          >SpO2</label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="saturacion_oxigeno"
            name="saturacion_oxigeno"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="number"
            value="{{ exploracion.saturacion_oxigeno|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">%</p>
        </div>
      </div>
    </div>

    {% comment %} Temperatura, Presion Arterial y Glucosa {% endcomment %}
    <div class="grid grid-cols-3 gap-4">
      {% comment %} Temperatura {% endcomment %}
      <div>
        <label for="temperatura" class="block mb-2 text-sm font-semibold uppercase"
          >Temperatura <span class="text-red-500">*</span></label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="temperatura"
            name="temperatura"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value="{{ exploracion.temperatura|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">°C</p>
        </div>
      </div>

      {% comment %} Presion Arterial {% endcomment %}
      <div>
        <label
          for="presion_arterial"
          class="block mb-2 text-sm font-semibold uppercase"
          >presion arterial <span class="text-red-500">*</span></label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="presion_arterial"
            name="presion_arterial"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value="{{ exploracion.presion_arterial|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">mmHg</p>
        </div>
      </div>

      {% comment %} Glucosa Capilar {% endcomment %}
      <div>
        <label
          for="glucosa"
          class="block mb-2 text-sm font-semibold uppercase truncate"
          >Guclosa Capilar</label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="glucosa"
            name="glucosa"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value="{{ exploracion.glucosa|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">mg/dl</p>
        </div>
      </div>
    </div>

    {% comment %} Contenedor Talla, Peso y IMC {% endcomment %}
    <div class="grid grid-cols-3 gap-4">
      {% comment %} Talla {% endcomment %}
      <div>
        <label for="talla" class="block mb-2 text-sm font-semibold uppercase"
          >talla </label
        >

        <div class="w-full relative bg-white rounded-lg">
          <input
            id="talla"
            name="talla"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value="{{ exploracion.talla|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">cm</p>
        </div>
      </div>

      {% comment %} Peso {% endcomment %}
      <div>
        <label for="peso" class="block mb-2 text-sm font-semibold uppercase"
          >peso </label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="peso"
            name="peso"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value="{{ exploracion.peso|default_if_none:'' }}"
          />
          <p class="absolute inset-y-0 flex items-center right-2">kg</p>
        </div>
      </div>

      {% comment %} IMC {% endcomment %}
      <div>
        <label for="imc" class="block mb-2 text-sm font-semibold uppercase"
          >IMC </label
        >
        <div class="w-full relative bg-white rounded-lg">
          <input
            id="imc"
            name="imc"
            class="w-full border-none rounded-md bg-white shadow-sm"
            type="text"
            value=""
          />
        </div>
      </div>
    </div>
  </div>


  <!-- ========================================
     Contenedor de Hallazgos
  ======================================== -->
  <div class="space-y-5">
    {% comment %} Hallazgoz {% endcomment %}
    <div>
      <label
        for="descripcion_exploracion"
        class="block mb-2 text-sm font-semibold uppercase"
        >Hallazgos <span class="text-red-500">*</span></label
      >
      <textarea
        id="descripcion_exploracion"
        name="descripcion_exploracion"
        class="resize-none w-full border-none rounded-md bg-white shadow-sm uppercase"
        placeholder="Escriba los hallazgos correspondientes"
      >{{ exploracion.descripcion_exploracion|default_if_none:'' }}</textarea>
    </div>

    {% comment %} Notas {% endcomment %}
    <div class="w-full">
      <label for="notes_exploracion" class="block mb-2 text-sm font-semibold uppercase">Notas</label>
      <textarea id="notes_exploracion" name="notas" class=" resize-none w-full border-none rounded-md bg-white shadow-sm uppercase" placeholder="Agregue notas extra en caso de ser necesarias">{{ exploracion.notas|default_if_none:'' }}</textarea>
    </div>
  </div>
</div>

{% csrf_token %}
{% comment %} Botones de formulario {% endcomment %}
<div class="flex justify-center gap-10 mt-20">
  <a
    href="/"
    class="w-3/12 py-3 border-none bg-rojo focus:ring-2 focus:ring-offset-2 focus:ring-rojo text-center rounded-lg text-white font-semibold"
    >Cancelar</a
  >
  <button
    onclick="mostrarAlerta()"
    type="submit"
    class="w-3/12 py-3 border-none bg-main focus:ring-2 focus:ring-offset-2 focus:ring-main text-center rounded-lg text-white font-semibold"
  >
    Enviar Datos
  </button>
</div>
